
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<!--start page wrapper -->
<div class="page-wrapper">
    <div class="page-content">
        <div class="row row-cols-1 row-cols-lg-2 row-cols-xl-3">
            <div class="col">
                <div class="card radius-10">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div>
                                <p class="mb-0 text-secondary">Revenue</p>
                                <h4 class="my-1">$@ViewBag.Revenue</h4>
                            </div>
                            <div class="widgets-icons bg-light-success text-success ms-auto">
                                <i class='bx bxs-wallet'></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card radius-10">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div>
                                <p class="mb-0 text-secondary">Total Customers</p>
                                <h4 class="my-1">@ViewBag.CustomerCount</h4>
                            </div>
                            <div class="widgets-icons bg-light-warning text-warning ms-auto">
                                <i class='bx bxs-group'></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card radius-10">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div>
                                <p class="mb-0 text-secondary">Total Orders</p>
                                <h4 class="my-1">@ViewBag.OrderCount</h4>
                            </div>
                            <div class="widgets-icons bg-light-danger text-danger ms-auto">
                                <i class='bx bxs-binoculars'></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--end row-->
        <div class="row">
            <div class="col-12 col-xl-6 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-header">
                        <div class="d-flex align-items-center">
                            <div>
                                <h5 class="mb-0">New Customers</h5>
                            </div>
                            
                        </div>
                    </div>
                    <div class="customers-list p-3 mb-3">
                        @foreach (var customer in ViewBag.Customers)
                        {
                            <div class="customers-list-item d-flex align-items-center border-bottom p-2 cursor-pointer">
                                <div class="">
                                    <img src="~/Assets/Backend/images/avatars/avatar-3.png" class="rounded-circle" width="46" height="46" alt="" />
                                </div>
                                <div class="ms-2">
                                    <h6 class="mb-1 font-14">@customer.name</h6>
                                    <p class="mb-0 font-13 text-secondary">@customer.email</p>
                                </div>
                                <div class="list-inline d-flex customers-contacts ms-auto">
                                    <a href="javascript:;" class="list-inline-item"><i class='bx bxs-envelope'></i></a>
                                    <a href="javascript:;" class="list-inline-item"><i class='bx bxs-microphone'></i></a>
                                    <a href="javascript:;" class="list-inline-item"><i class='bx bx-dots-vertical-rounded'></i></a>
                                </div>
                            </div>
                        }



                    </div>
                </div>
            </div>
            <div class="col-12 col-xl-6 d-flex">
                <div class="card radius-10 w-100">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div>
                                <h5 class="mb-0">Recent Orders</h5>
                            </div>
                            <div class="font-22 ms-auto">
                                <a href="@Url.Action("Index", "Ordermanage")" class="text-sm" style="font-size: 16px;">View All <i class='bx bx-caret-right'></i></a>
                            </div>
                        </div>
                        <hr />
                        <div class="table-responsive">
                            <table class="table align-middle mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>Order id</th>
                                        <th>Customer</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var order in ViewBag.Orders)
                                    {
                                        <tr>
                                            <td>#@order.tracking</td>
                                            <td>@order.Shipping.name </td>
                                            <td>$@order.amount</td>
                                            <td>
                                                <div class="d-flex align-items-center @(order.orderstatus == 1 ? "text-danger" : order.orderstatus == 2 ? "text-primary" : order.orderstatus == 3 ? "text-success" : "")">
                                                    <i class='bx bx-radio-circle-marked bx-burst bx-rotate-90 align-middle font-18 me-1'></i>
                                                    <span>@order.OrderStatus1.name</span>
                                                </div>
                                            </td>
                                            
                                        </tr>
                                    }

                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end row-->
        
    </div>
</div>
<!--end page wrapper -->
